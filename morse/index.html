<!DOCTYPE html>
<html>
    <head>
        <link rel="icon" href="3-horizontal-dots.svg" type="image/icon type">
        <title>
            Morse-to-Text
        </title>
        <link rel="stylesheet" href="css/slider.css">
        <link rel="stylesheet" href="css/main.css"> 
        <link rel="stylesheet" href="css/modal.css"> 
        <link rel="stylesheet" href="css/buttons.css"> 
        <link rel="stylesheet" href="css/utils.css"> 
    </head>
    <body>
        <div id="modal" class="modal">
            <div class="help-content modal-content">
                <span id="close-help" class="close">&times;</span>
                <p><b>What is this?</b></p>
                <p>
                    It translates morse code to letters. 
                    Just click (if using mouse) or tap (if on mobile) out morse 
                    code using the 'transmit' button, 
                    and what you tap out will be written out in the space below.
                    Alternatively, if you have a keyboard, you can use the spacebar.
                    By default a "dit" is considered 150ms. You can change this default
                    by using the "calibrate" button.
                </p>
                <img src="International_Morse_Code.svg" alt="Morse Code Chart" style="display:block;margin-left:auto;margin-right:auto;width:50vw;">
            </div>  
            <div class="options-content modal-content">
                <span id="close-options" class="close">&times;</span>
                <p><b>Options</b></p>
                <div class="volume-container">
                    Audio Feedback Volume: <span id="volume-level">50</span>
                    <br>
                    <input type="range" min="0" max="100" value="50" class="slider" id="volume-slider" onchange="change_volume()">
                </div>
            </div>  
            <div class="cal-content modal-content">
                <span id="close-cal" class="close">&times;</span>
                <p><b>Calibrate</b></p>
                <p>Calibrate timing. By default a "dit" is considered 150ms.</p>
                <p><i>The current dit duration is set to <input type='number' value='150' class="dit-ind" style="font-style: italic;" max="999" min="10" onchange="handle_manual_cal()">ms.</i></p>
                <p>For manual calibration, specify your preferred dit duration in the above box.</p>
                <p>For automatic calibration, press the start button and transmit the letters that appear below, and the program will automatically determine the best dit duration for you.</p>
                <button class='start-cal' style="font-size:2.5rem;">start</button><button id="cal-transmit" class="unselectable" style="margin-left:0.5rem;font-size:2.5rem;">transmit</button>
                <div class="cal-letter-container">
                </div>
            </div>  
        </div>
        <div id="main-container">
            <div class="unselectable" style="display:flex;justify-content:flex-end;">
                <button class="cal-button">calibrate</button>
                <div style="margin-left:auto;">
                    <button class="options-button">options</button>
                    <button class="help-button">help</button>
                </div>
            </div>
            <div class="center-container page-title">
                Morse-to-Text
            </div>
            <div>
                <div class="unselectable inputarea center-container">
                    <span style="margin-left:0.2em;margin-right:7rem;">
                        <span id="interpreted" style='white-space:pre-wrap;'></span>
                        <span id="ditdahs"></span>
                        <span id="cursor">|</span>
                    </span>
                    <div class="light-container" style="position:absolute;right:0;">
                        <div id="light">
                        </div>
                    </div>
                </div>
                <div class="center-container" style="align-items:flex-end;margin-top:1.5rem;">
                    <button id="main-app" class="transmit-button unselectable" style="margin-right:0.5rem;">transmit</button>
                    <button class="del-button unselectable">delete</button>
                </div>
            </div>
        </div>
        <div>
            Translator functions
            <ul>
                <li><a href="index.html">morse-to-text</a></li>
                <li><a href="text-to-morse.html">text-to-morse</a></li>
            </ul>
            Practice it yourself!
            <ul>
                <li><a href="receiver-practice.html">receiver practice</a></li>
                <li><a href="transmission-practice.html">transmitter practice</a></li>
            </ul>
        </div>
        <audio src="440Hz.mp3"></audio>
    </body>
    <script src="morse_dicts.js"></script>
    <script src="cursor_blink.js"></script>
    <script src="absorb_event.js"></script>
    <script src="modal.js"></script>
    <script src="delete_button.js"></script>
    <script src="calibrate_button.js"></script>
    <script src="help_button.js"></script>
    <script src="options_button.js"></script>
    <script src="mobile_check.js"></script>
    <script src="audio.js"></script>
    <script src="morse_to_text.js"></script>
    <script src="index.js"></script>
</html>