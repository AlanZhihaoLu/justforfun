<!DOCTYPE html>
<html>
    <head>
        <link rel="icon" href="3-horizontal-dots.svg" type="image/icon type">
        <title>
            Transmission Practice
        </title>
        <link rel="stylesheet" href="slider.css">
        <link rel="stylesheet" href="main.css"> 
    </head>
    <body>
        <div style="overflow: hidden; height: 0">
            <div id="measure-vh" style="position: fixed; height: 100vh"></div>
        </div>
        <div id="modal" class="modal">
            <div class="help-content modal-content">
                <span id="close-help" class="close">&times;</span>
                <p><b>What is this?</b></p>
                <p>
                    It translates morse code to letters. 
                    Just click (if using mouse) or tap (if on mobile) out morse 
                    code using the 'transmit' button, 
                    and what you tap out will be written out in the space below.
                    Alternatively, if you have a keyboard, you can use the spacebar.
                    By default a "dit" is considered 150ms. You can change this default
                    by using the "calibrate" button.
                </p>
                <img src="International_Morse_Code.svg" alt="Morse Code Chart" style="display:block;margin-left:auto;margin-right:auto;width:50vw;">
            </div>  
            <div class="options-content modal-content">
                <span id="close-options" class="close">&times;</span>
                <p><b>Options</b></p>
                <div id="guide-on-container">
                    <label for="guide-on">Guide</label>
                    <input type="checkbox" id="guide-on" name="guide-on" checked>
                </div>
                <div class="volume-container">
                    Audio Feedback Volume: <span id="volume-level">50</span>
                    <br>
                    <input type="range" min="0" max="100" value="50" class="slider" id="volume-slider" onchange="change_volume()">
                </div>
            </div>  
            <div class="cal-content modal-content">
                <span id="close-cal" class="close">&times;</span>
                <p><b>Calibrate</b></p>
                <p>Calibrate timing. By default a "dit" is considered 150ms.</p>
                <p><i>The current dit duration is set to <input type='number' value='150' class="dit-ind" style="font-style: italic;" max="999" min="10" onchange="handle_manual_cal()">ms.</i></p>
                <p>For manual calibration, specify your preferred dit duration in the above box.</p>
                <p>For automatic calibration, press the start button and transmit the letters that appear below, and the program will automatically determine the best dit duration for you.</p>
                <button class='start-cal' style="font-size:5vh;">start</button><button id="cal-transmit" class="unselectable" style="margin-left:0.5vw;font-size:5vh">transmit</button>
                <div class="cal-letter-container">
                </div>
            </div>  
        </div>
        <div id="main-container">
            <div class="unselectable" style="display:flex;justify-content:flex-end;">
                <button class="cal-button" style="font-size:5vh;">calibrate</button>
                <div style="margin-left:auto;">
                    <button class="options-button" style="font-size:5vh;">options</button>
                    <button class="help-button" style="font-size:5vh;">help</button>
                </div>
            </div>
            <div class="center-container" style="align-items:flex-start;margin-top:3vh;margin-bottom:1vh;font-size:8vh;">
                <div>
                    Transmission Practice
                </div>
            </div>
            <div class="center-container" style="margin:2vh;font-size:5vh;height:5vh;">
                transmit:&nbsp;"<textarea id="target-words" style="font-size:5vh;height:100%;width:40%"></textarea>"
                <img id='randomize-button' src="dice-game.png" alt="Randomize" height="100%" width="auto" style="margin-left:0.5em;">
            </div>
            <div id="doot-guide" class="center-container" style="margin:2vh;font-size:5vh;">
            </div>
            <div>
                <div class="unselectable inputarea center-container" style="align-items:center;height:20vh;font-size:10vh;">
                    <span style="margin-left:0.2em;margin-right:10vh;">
                        <span id="interpreted" style='white-space:pre-wrap;'></span>
                        <span id="ditdahs" style='opacity:0.5;margin-left:-0.1em;'></span>
                        <span id="cursor" style='position:relative;font-size:1.2em;top:0.05em;margin-left:-0.1em;'>|</span>
                    </span>
                    <div class="light-container" style="position:absolute;right:0;">
                        <div id="light">
                        </div>
                    </div>
                </div>
                <div class="center-container" style="align-items:flex-end;margin-top:2vh;">
                    <button id="main-app" class="transmit-button unselectable" style="font-size:8vw;margin-right:0.5vw;">transmit</button>
                    <button class="del-button unselectable" style="font-size:8vw;">delete</button>
                </div>
            </div>
            <div id="give-feedback" class="modal">
                <div class="center-container" style="height:100%;align-items:center;text-align:center;">
                    <div id="give-feedback-content" class="modal-content" style="padding:6vh;height:6vh;width:35%;font-size:6vh;">
                        Correct!
                    </div>
                </div>
            </div>
        </div>
        <div>
    </body>
    <script src="morse_dicts.js"></script>
    <script src="cursor_blink.js"></script>
    <script src="absorb_event.js"></script>
    <script src="delete_button.js"></script>
    <script src="calibrate_button.js"></script>
    <script src="help_button.js"></script>
    <script src="options_button.js"></script>
    <script src="mobile_check.js"></script>
    <script src="transmission-practice.js"></script>
</html>